"use strict";angular.module("bloqusApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","firebase","firebase.ref"]),angular.module("bloqusApp").controller("MainCtrl",["$scope","$firebaseObject",function(a,b){var c=new Firebase("https://bloqus.firebaseio.com/games"),d=b(c);d.$bindTo(a,"games"),d.$loaded().then(function(){a.createGame=function(){var b=Math.round(1e8*Math.random()),c=Math.round(1e5*Math.random());a.games[b]={id:c,status:"active"}}}),a.enterGame=function(b){console.log(b,"entering game: ",a.currentGameId)},a.joinGame=function(b){angular.forEach(a.games,function(c,d){console.log("key",d),console.log("value",c),c.id==b&&(a.gameExists=!0,a.currentGameId=c.id,console.log("found it! id: ",c.id))})}}]),angular.module("firebase.config",[]).constant("FBURL","https://bloqus.firebaseio.com"),angular.module("firebase.ref",["firebase","firebase.config"]).factory("Ref",["$window","FBURL",function(a,b){return new a.Firebase(b)}]),angular.module("bloqusApp").controller("ChatCtrl",["$scope","Ref","$firebaseArray","$timeout",function(a,b,c,d){function e(b){a.err=b,d(function(){a.err=null},5e3)}a.messages=c(b.child("messages").limitToLast(10)),a.messages.$loaded()["catch"](e),a.addMessage=function(b){b&&a.messages.$add({text:b})["catch"](e)}}]),angular.module("bloqusApp").filter("reverse",function(){return function(a){return angular.isArray(a)?a.slice().reverse():[]}}),angular.module("bloqusApp").config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/chat",{templateUrl:"views/lobby.html",controller:"ChatCtrl"}).otherwise({redirectTo:"/"})}]);